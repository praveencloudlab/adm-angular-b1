<div class="container">
  <h1>Angular Reactive Form </h1> <hr/>

  <form [formGroup]="productForm" (ngSubmit)="handleSubmit()">
    <div>
      <label>Product Name</label>
      <input formControlName="productTitle"/>
      <div *ngIf="fc()['productTitle']?.invalid && (fc()['productTitle']?.dirty || fc()['productTitle']?.touched)">
        <div  *ngIf="fc()['productTitle']?.errors?.['required']" class="text-danger">
            Product Title is Required
        </div>

        <div  *ngIf="fc()['productTitle']?.errors?.['minlength']" class="text-danger">
          Product Title should be at least 3 characters long
      </div>
       
      </div>
    </div>

    <div formGroupName="price">
      <label>Price</label>
      <input formControlName="price"/>
      <div *ngIf="fc()['price']?.invalid && (fc()['price']?.dirty || fc()['price']?.touched)">
        <div  *ngIf="fc()['price']?.errors?.['required']" class="text-danger">
          Product Price is Required
      </div>
      </div>
    </div>

    <div formGroupName="stock">
      <label>Stock</label>
      <input formControlName="stock"/>
      <div *ngIf="fc()['stock']?.invalid && (fc()['stock']?.dirty || fc()['stock']?.touched)">
        <div  *ngIf="fc()['stock']?.errors?.['required']" class="text-danger">
          Product Quantity is Required
      </div>
       
      </div>
    </div>
    <div>
      <label>Description</label>
      <textarea formControlName="description"></textarea>
      <div *ngIf="fc()['description']?.invalid && (fc()['description']?.dirty || fc()['description']?.touched)">
        <div  *ngIf="fc()['description']?.errors?.['required']" class="text-danger">
          Product Description is Required
      </div>
      </div>
    </div>

    <div>
      <label>Keywords</label>
      <textarea formControlName="keywords"></textarea>
      <div *ngIf="fc()['keywords']?.invalid && (fc()['keywords']?.dirty || fc()['keywords']?.touched)">
        <div  *ngIf="fc()['keywords']?.errors?.['required']" class="text-danger">
           Keywords is Required
      </div>
      </div>
    </div>


    <div>
      <label>Rating</label>
      <input formControlName="rating"/>
      <div *ngIf="fc()['rating']?.invalid && (fc()['rating']?.dirty || fc()['rating']?.touched)">
        <div  *ngIf="fc()['rating']?.errors?.['required']" class="text-danger">
            Product Rating is Required
        </div>
      </div>
    </div>
    <div>
      <label>Select calegory</label>
      <select formControlName="categoryId" (change)="handleCategoryChange()">
        <option *ngFor="let cat of categories" [value]="cat.categoryId" >{{cat.categoryTitle}}</option>
      </select>
    </div>
    <div>
      <label>Select Brand</label>
      <select formControlName="brandId">
        <option *ngFor="let brand of brands" [value]="brand.brandId">{{brand.brandTitle}}</option>
      </select>
    </div>
    <div>
      <button>Save</button>
    </div>
  </form>
  <hr/>
  
  <app-product-list></app-product-list>


</div>